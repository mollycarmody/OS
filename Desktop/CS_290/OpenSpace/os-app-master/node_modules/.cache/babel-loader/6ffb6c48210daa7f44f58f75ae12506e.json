{"ast":null,"code":"import _toConsumableArray from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/src/Components/Filter.js\";\nimport React from 'react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { MDBRow, MDBContainer, MDBInput, MDBCol, MDBFormInline, MDBIcon, MDBBtn } from \"mdbreact\";\nimport { MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem } from \"mdbreact\";\nimport moment from 'moment';\nimport DayPickerInput from 'react-day-picker/DayPickerInput.js';\nimport { formatDate, parseDate } from 'react-day-picker/moment';\nimport 'react-day-picker/lib/style.css';\nexport var Filter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Filter, _React$Component);\n\n  function Filter(props) {\n    var _this;\n\n    _classCallCheck(this, Filter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Filter).call(this, props));\n    _this.state = {\n      arr: [],\n      from: undefined,\n      to: undefined,\n      startD: '',\n      endD: '',\n      spaceTypes: [{\n        value: 'Restaurant space',\n        label: 'Restaurant'\n      }, {\n        value: 'Mall space',\n        label: 'Mall'\n      }, {\n        value: 'Apartment space',\n        label: 'Apartment'\n      }, {\n        value: 'Garage space',\n        label: 'Garage'\n      }, {\n        value: 'Closet space',\n        label: 'Closet'\n      }, {\n        value: 'Basement space',\n        label: 'Basement'\n      }, {\n        value: 'Outdoor space',\n        label: 'Outdoor (i.e shed)'\n      }]\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFromChange = _this.handleFromChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleToChange = _this.handleToChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.get2D = _this.get2D.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.formatDates = _this.formatDates.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Filter, [{\n    key: \"get2D\",\n    value: function get2D(num) {\n      if (num.toString().length < 2) // Integer of less than two digits\n        return \"0\" + num; // Prepend a zero!\n\n      return num.toString(); // return string for consistency\n    }\n  }, {\n    key: \"formatDates\",\n    value: function formatDates(date) {\n      console.log(typeOf(date));\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      date.split(' '); //split by spaceTypes\n\n      var year = date[3].toString();\n      var day = date[2].toString();\n      var month = months.indexOf(date[1]) + 1;\n      var monthString = this.get2D(month);\n      var newDate = year + '-' + month + '-' + day;\n      console.log(\"new date\" + newDate);\n      return newDate;\n    }\n  }, {\n    key: \"showFromMonth\",\n    value: function showFromMonth() {\n      var _this$state = this.state,\n          from = _this$state.from,\n          to = _this$state.to;\n\n      if (!from) {\n        return;\n      }\n\n      if (moment(to).diff(moment(from), 'months') < 2) {\n        this.to.getDayPicker().showMonth(from);\n      }\n    }\n  }, {\n    key: \"handleFromChange\",\n    value: function handleFromChange(from) {\n      // Change the from date and focus the \"to\" input field\n      console.log(from);\n      var d = this.formatDates(from);\n      this.setState({\n        from: from,\n        startD: d\n      });\n    }\n  }, {\n    key: \"handleToChange\",\n    value: function handleToChange(to) {\n      var d = this.formatDates(to);\n      this.setState({\n        to: to,\n        endD: d\n      }, this.showFromMonth);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      console.log(\"hi\");\n      var exists = this.state.arr.some(function (v) {\n        return v === event.target.value;\n      });\n\n      if (!exists) {\n        this.setState({\n          arr: this.state.arr.concat(event.target.value)\n        });\n      } else {\n        var array = _toConsumableArray(this.state.arr);\n\n        var index = array.indexOf(event.target.value);\n\n        if (index !== -1) {\n          array.splice(index, 1);\n          this.setState({\n            arr: array\n          });\n        }\n      } //call filter function\n\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          from = _this$state2.from,\n          to = _this$state2.to;\n      var modifiers = {\n        start: from,\n        end: to\n      };\n      var spaceTypeDropItems = this.state.spaceTypes.map(function (space, index) {\n        return React.createElement(Dropdown.Item, {\n          value: space.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, space.label);\n      });\n      return React.createElement(\"div\", {\n        className: \"filter-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"filter-spaceTypeDropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Pick your favorite flavor:\", React.createElement(\"select\", {\n        value: this.state.arr,\n        multiple: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"grapefruit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Grapefruit\"), React.createElement(\"option\", {\n        value: \"lime\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Lime\"), React.createElement(\"option\", {\n        value: \"coconut\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Coconut\"), React.createElement(\"option\", {\n        value: \"mango\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Mango\")))), React.createElement(\"div\", {\n        className: \"InputFromTo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(DayPickerInput, {\n        value: from,\n        placeholder: \"From\",\n        format: \"LL\",\n        formatDate: formatDate,\n        parseDate: parseDate,\n        dayPickerProps: {\n          selectedDays: [from, {\n            from: from,\n            to: to\n          }],\n          disabledDays: {\n            after: to\n          },\n          toMonth: to,\n          modifiers: modifiers,\n          numberOfMonths: 1,\n          onDayClick: function onDayClick() {\n            return _this2.to.getInput().focus();\n          }\n        },\n        onDayChange: this.handleFromChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), ' ', \"\\u2014\", ' ', React.createElement(\"span\", {\n        className: \"InputFromTo-to\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(DayPickerInput, {\n        ref: function ref(el) {\n          return _this2.to = el;\n        },\n        value: to,\n        placeholder: \"To\",\n        format: \"LL\",\n        formatDate: formatDate,\n        parseDate: parseDate,\n        dayPickerProps: {\n          selectedDays: [from, {\n            from: from,\n            to: to\n          }],\n          disabledDays: {\n            before: from\n          },\n          modifiers: modifiers,\n          month: from,\n          fromMonth: from,\n          numberOfMonths: 1\n        },\n        onDayChange: this.handleToChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Filter;\n}(React.Component);\nexport default Filter;","map":{"version":3,"sources":["/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/src/Components/Filter.js"],"names":["React","Dropdown","MDBRow","MDBContainer","MDBInput","MDBCol","MDBFormInline","MDBIcon","MDBBtn","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","moment","DayPickerInput","formatDate","parseDate","Filter","props","state","arr","from","undefined","to","startD","endD","spaceTypes","value","label","handleChange","bind","handleFromChange","handleToChange","get2D","formatDates","num","toString","length","date","console","log","typeOf","months","split","year","day","month","indexOf","monthString","newDate","diff","getDayPicker","showMonth","d","setState","showFromMonth","event","exists","some","v","target","concat","array","index","splice","modifiers","start","end","spaceTypeDropItems","map","space","selectedDays","disabledDays","after","toMonth","numberOfMonths","onDayClick","getInput","focus","el","before","fromMonth","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { MDBRow, MDBContainer, MDBInput, MDBCol, MDBFormInline, MDBIcon, MDBBtn } from \"mdbreact\";\nimport { MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem } from \"mdbreact\";\n\nimport moment from 'moment';\nimport DayPickerInput from 'react-day-picker/DayPickerInput.js';\nimport { formatDate, parseDate } from 'react-day-picker/moment';\nimport 'react-day-picker/lib/style.css';\n\nexport class Filter extends React.Component{\n  constructor(props){\n    super(props);\n\n    this.state={\n        arr: [],\n      from: undefined,\n      to: undefined,\n      startD: '',\n      endD: '',\n      spaceTypes:[\n        {\n          value:'Restaurant space',\n          label:'Restaurant'\n        },\n        {\n          value:'Mall space',\n          label:'Mall'\n        },\n        {\n          value:'Apartment space',\n          label:'Apartment'\n        },\n        {\n          value:'Garage space',\n          label:'Garage'\n        },\n        {\n          value:'Closet space',\n          label:'Closet'\n        },\n        {\n          value:'Basement space',\n          label:'Basement'\n        },\n        {\n          value:'Outdoor space',\n          label:'Outdoor (i.e shed)'\n        }\n      ]\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFromChange = this.handleFromChange.bind(this);\n    this.handleToChange = this.handleToChange.bind(this);\n    this.get2D = this.get2D.bind(this);\n    this.formatDates = this.formatDates.bind(this);\n  }\n\n  get2D( num ) {\n     if( num.toString().length < 2 ) // Integer of less than two digits\n         return \"0\" + num; // Prepend a zero!\n     return num.toString(); // return string for consistency\n  }\n  formatDates(date){\n    console.log(typeOf(date));\n    const months=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    date.split(' '); //split by spaceTypes\n    let year = date[3].toString();\n    let day = date[2].toString();\n    let month = months.indexOf(date[1])+1;\n    const monthString = this.get2D(month);\n    const newDate = year + '-' + month + '-' + day;\n    console.log(\"new date\" + newDate);\n    return newDate;\n  }\n\n  showFromMonth() {\n    const { from, to } = this.state;\n    if (!from) {\n      return;\n    }\n    if (moment(to).diff(moment(from), 'months') < 2) {\n      this.to.getDayPicker().showMonth(from);\n    }\n  }\n  handleFromChange(from) {\n    // Change the from date and focus the \"to\" input field\n    console.log(from);\n    const d = this.formatDates(from);\n    this.setState({\n      from,\n      startD:d\n     });\n  }\n  handleToChange(to) {\n    const d = this.formatDates(to);\n    this.setState({\n      to,\n      endD:d\n\n     }, this.showFromMonth);\n  }\n  handleChange(event) {\nconsole.log(\"hi\");\nconst exists = this.state.arr.some(v => (v === event.target.value));\nif(!exists){\n   this.setState({\n  arr: this.state.arr.concat(event.target.value)\n});\n}else{\n  var array = [...this.state.arr];\n  var index = array.indexOf(event.target.value)\n  if (index !== -1) {\n    array.splice(index, 1);\n    this.setState({arr: array});\n  }\n\n}\n//call filter function\n }\n\n\n  render(){\n    const { from, to } = this.state;\n    const modifiers = { start: from, end: to };\n    const spaceTypeDropItems = this.state.spaceTypes.map((space, index) =>\n        <Dropdown.Item value={space.value}>{space.label}</Dropdown.Item>\n\n\n    );\n    return(\n      <div className=\"filter-main\">\n        <div className=\"filter-spaceTypeDropdown\">\n        <label>\n          Pick your favorite flavor:\n          <select value={this.state.arr} multiple={true} onChange={this.handleChange}>\n            <option value=\"grapefruit\">Grapefruit</option>\n            <option value=\"lime\">Lime</option>\n            <option value=\"coconut\">Coconut</option>\n            <option value=\"mango\">Mango</option>\n          </select>\n        </label>\n        </div>\n        <div className=\"InputFromTo\">\n           <DayPickerInput\n             value={from}\n             placeholder=\"From\"\n             format=\"LL\"\n             formatDate={formatDate}\n             parseDate={parseDate}\n             dayPickerProps={{\n               selectedDays: [from, { from, to }],\n               disabledDays: { after: to },\n               toMonth: to,\n               modifiers,\n               numberOfMonths: 1,\n               onDayClick: () => this.to.getInput().focus(),\n             }}\n             onDayChange={this.handleFromChange}\n           />{' '}\n           —{' '}\n           <span className=\"InputFromTo-to\">\n             <DayPickerInput\n               ref={el => (this.to = el)}\n               value={to}\n               placeholder=\"To\"\n               format=\"LL\"\n               formatDate={formatDate}\n               parseDate={parseDate}\n               dayPickerProps={{\n                 selectedDays: [from, { from, to }],\n                 disabledDays: { before: from },\n                 modifiers,\n                 month: from,\n                 fromMonth: from,\n                 numberOfMonths: 1,\n               }}\n               onDayChange={this.handleToChange}\n             />\n           </span>\n        </div>\n\n      </div>\n\n    );\n  }\n\n}\n\nexport default Filter;\n"]},"metadata":{},"sourceType":"module"}