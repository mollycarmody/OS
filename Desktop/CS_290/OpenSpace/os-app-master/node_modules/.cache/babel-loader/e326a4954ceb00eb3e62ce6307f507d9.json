{"ast":null,"code":"import _classCallCheck from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/src/Components/Map.js\";\nimport React from 'react';\nimport { compose, withProps } from \"recompose\";\nimport { GoogleMap, Marker, withGoogleMap, withScriptjs, InfoWindow, StandaloneSearchBox } from 'react-google-maps';\nimport MapMarker from \"./MapMarker\";\nimport Autocomplete from 'react-google-autocomplete';\nimport * as API from '../apiActions';\nimport SearchBox from \"react-google-maps/lib/components/places/SearchBox\";\nexport var Map =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Map, _React$Component);\n\n  function Map(props) {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Map).call(this, props));\n    _this.myRefs = {};\n    _this.state = {\n      places: [],\n      center: {\n        lat: 35.949872,\n        lng: -78.8977132\n      },\n      bounds: null\n    };\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.postLatLng({\n        lat: function lat() {\n          return _this2.state.center.lat;\n        },\n        lng: function lng() {\n          return _this2.state.center.lng;\n        }\n      });\n    }\n  }, {\n    key: \"postLatLng\",\n    value: function postLatLng(_ref) {\n      var _this3 = this;\n\n      var lat = _ref.lat,\n          lng = _ref.lng;\n      API.Locations.create({\n        latitude: lat(),\n        longitude: lng()\n      }, function (response) {\n        console.log(response);\n\n        _this3.props.onPlaceSearched(response.google_place_id);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return this.props.data && React.createElement(GoogleMap, {\n        defaultZoom: 12,\n        center: this.state.center,\n        onIdle: function onIdle() {\n          _this4.setState({\n            bounds: _this4.myRefs.map.getBounds(),\n            center: _this4.myRefs.map.getCenter()\n          });\n\n          _this4.postLatLng(_this4.myRefs.map.getCenter());\n        },\n        ref: function ref(_ref3) {\n          return _this4.myRefs.map = _ref3;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(SearchBox, {\n        controlPosition: 1,\n        ref: function ref(_ref2) {\n          return _this4.myRefs.searchBox = _ref2;\n        },\n        bounds: this.state.bounds,\n        onPlacesChanged: function onPlacesChanged() {\n          var places = _this4.myRefs.searchBox.getPlaces();\n\n          if (places.length === 1) {\n            console.log(places[0]);\n\n            _this4.setState({\n              places: places,\n              center: places[0].geometry.location\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Customized your placeholder\",\n        style: {\n          boxSizing: \"border-box\",\n          border: \"1px solid transparent\",\n          width: \"240px\",\n          height: \"32px\",\n          padding: \"0 12px\",\n          borderRadius: \"3px\",\n          boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.3)\",\n          fontSize: \"14px\",\n          outline: \"none\",\n          textOverflow: \"ellipses\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), this.props.data.map(function (listing) {\n        return React.createElement(MapMarker, {\n          key: listing.id,\n          listing: listing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return Map;\n}(React.Component);\nexport default compose(withProps({\n  googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDbGXFv-QOejj2G8vfGj5cIuYqXjI1AhRU&libraries=places\",\n  loadingElement: React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }),\n  containerElement: React.createElement(\"div\", {\n    style: {\n      height: \"60vh\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }),\n  mapElement: React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })\n}), withScriptjs, withGoogleMap)(Map);","map":{"version":3,"sources":["/Users/mollycarmody/Desktop/CS_290/OpenSpace/os-app-master/src/Components/Map.js"],"names":["React","compose","withProps","GoogleMap","Marker","withGoogleMap","withScriptjs","InfoWindow","StandaloneSearchBox","MapMarker","Autocomplete","API","SearchBox","Map","props","myRefs","state","places","center","lat","lng","bounds","postLatLng","Locations","create","latitude","longitude","response","console","log","onPlaceSearched","google_place_id","data","setState","map","getBounds","getCenter","ref","searchBox","getPlaces","length","geometry","location","boxSizing","border","width","height","padding","borderRadius","boxShadow","fontSize","outline","textOverflow","listing","id","Component","googleMapURL","loadingElement","containerElement","mapElement"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,EAAiBC,SAAjB,QAAiC,WAAjC;AACA,SACIC,SADJ,EAEIC,MAFJ,EAGIC,aAHJ,EAIIC,YAJJ,EAKIC,UALJ,EAMIC,mBANJ,QAOO,mBAPP;AAQA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAO,KAAKC,GAAZ,MAAqB,eAArB;AACA,OAAOC,SAAP,MAAsB,mDAAtB;AAEA,WAAaC,GAAb;AAAA;AAAA;AAAA;;AACI,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACA,UAAKC,MAAL,GAAc,EAAd;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,MAAM,EAAE;AAACC,QAAAA,GAAG,EAAE,SAAN;AAAiBC,QAAAA,GAAG,EAAE,CAAC;AAAvB,OAFC;AAGTC,MAAAA,MAAM,EAAE;AAHC,KAAb;AAHe;AAQlB;;AATL;AAAA;AAAA,wCAWwB;AAAA;;AAChB,WAAKC,UAAL,CAAgB;AAACH,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACH,KAAL,CAAWE,MAAX,CAAkBC,GAAxB;AAAA,SAAN;AAAmCC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACJ,KAAL,CAAWE,MAAX,CAAkBE,GAAxB;AAAA;AAAxC,OAAhB;AACH;AAbL;AAAA;AAAA,qCAe2B;AAAA;;AAAA,UAAXD,GAAW,QAAXA,GAAW;AAAA,UAANC,GAAM,QAANA,GAAM;AACnBT,MAAAA,GAAG,CAACY,SAAJ,CAAcC,MAAd,CAAqB;AAACC,QAAAA,QAAQ,EAAEN,GAAG,EAAd;AAAkBO,QAAAA,SAAS,EAAEN,GAAG;AAAhC,OAArB,EAA0D,UAAAO,QAAQ,EAAI;AAClEC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,QAAA,MAAI,CAACb,KAAL,CAAWgB,eAAX,CAA2BH,QAAQ,CAACI,eAApC;AACH,OAHD;AAIH;AApBL;AAAA;AAAA,6BAsBa;AAAA;;AACL,aACI,KAAKjB,KAAL,CAAWkB,IAAX,IACA,oBAAC,SAAD;AACI,QAAA,WAAW,EAAE,EADjB;AAEI,QAAA,MAAM,EAAE,KAAKhB,KAAL,CAAWE,MAFvB;AAGI,QAAA,MAAM,EAAE,kBAAM;AACV,UAAA,MAAI,CAACe,QAAL,CAAc;AACVZ,YAAAA,MAAM,EAAE,MAAI,CAACN,MAAL,CAAYmB,GAAZ,CAAgBC,SAAhB,EADE;AAEVjB,YAAAA,MAAM,EAAE,MAAI,CAACH,MAAL,CAAYmB,GAAZ,CAAgBE,SAAhB;AAFE,WAAd;;AAIA,UAAA,MAAI,CAACd,UAAL,CAAgB,MAAI,CAACP,MAAL,CAAYmB,GAAZ,CAAgBE,SAAhB,EAAhB;AACH,SATL;AAUI,QAAA,GAAG,EAAE,aAAAC,KAAG;AAAA,iBAAI,MAAI,CAACtB,MAAL,CAAYmB,GAAZ,GAAkBG,KAAtB;AAAA,SAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAYI,oBAAC,SAAD;AACI,QAAA,eAAe,EAAE,CADrB;AAEI,QAAA,GAAG,EAAE,aAAAA,KAAG;AAAA,iBAAI,MAAI,CAACtB,MAAL,CAAYuB,SAAZ,GAAwBD,KAA5B;AAAA,SAFZ;AAGI,QAAA,MAAM,EAAE,KAAKrB,KAAL,CAAWK,MAHvB;AAII,QAAA,eAAe,EAAE,2BAAM;AACnB,cAAMJ,MAAM,GAAG,MAAI,CAACF,MAAL,CAAYuB,SAAZ,CAAsBC,SAAtB,EAAf;;AACA,cAAItB,MAAM,CAACuB,MAAP,KAAkB,CAAtB,EAAyB;AACrBZ,YAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAAC,CAAD,CAAlB;;AACA,YAAA,MAAI,CAACgB,QAAL,CAAc;AACVhB,cAAAA,MAAM,EAAEA,MADE;AAEVC,cAAAA,MAAM,EAAED,MAAM,CAAC,CAAD,CAAN,CAAUwB,QAAV,CAAmBC;AAFjB,aAAd;AAIH;AACJ,SAbL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAeI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,WAAW,EAAC,6BAFhB;AAGI,QAAA,KAAK,EAAE;AACHC,UAAAA,SAAS,cADN;AAEHC,UAAAA,MAAM,yBAFH;AAGHC,UAAAA,KAAK,SAHF;AAIHC,UAAAA,MAAM,QAJH;AAKHC,UAAAA,OAAO,UALJ;AAMHC,UAAAA,YAAY,OANT;AAOHC,UAAAA,SAAS,gCAPN;AAQHC,UAAAA,QAAQ,QARL;AASHC,UAAAA,OAAO,QATJ;AAUHC,UAAAA,YAAY;AAVT,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfJ,CAZJ,EA4CK,KAAKtC,KAAL,CAAWkB,IAAX,CAAgBE,GAAhB,CAAoB,UAAAmB,OAAO;AAAA,eAAI,oBAAC,SAAD;AAAW,UAAA,GAAG,EAAEA,OAAO,CAACC,EAAxB;AAA4B,UAAA,OAAO,EAAED,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA,OAA3B,CA5CL,CAFJ;AAiDH;AAxEL;;AAAA;AAAA,EAAyBrD,KAAK,CAACuD,SAA/B;AA2EA,eAAetD,OAAO,CAClBC,SAAS,CAAC;AACNsD,EAAAA,YAAY,EAAE,sGADR;AAENC,EAAAA,cAAc,EAAE;AAAK,IAAA,KAAK,EAAE;AAACX,MAAAA,MAAM;AAAP,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFV;AAGNY,EAAAA,gBAAgB,EAAE;AAAK,IAAA,KAAK,EAAE;AAACZ,MAAAA,MAAM;AAAP,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHZ;AAINa,EAAAA,UAAU,EAAE;AAAK,IAAA,KAAK,EAAE;AAACb,MAAAA,MAAM;AAAP,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJN,CAAD,CADS,EAOlBxC,YAPkB,EAQlBD,aARkB,CAAP,CASZQ,GATY,CAAf","sourcesContent":["import React from 'react'\nimport {compose, withProps} from \"recompose\"\nimport {\n    GoogleMap,\n    Marker,\n    withGoogleMap,\n    withScriptjs,\n    InfoWindow,\n    StandaloneSearchBox,\n} from 'react-google-maps'\nimport MapMarker from \"./MapMarker\";\nimport Autocomplete from 'react-google-autocomplete';\nimport * as API from '../apiActions'\nimport SearchBox from \"react-google-maps/lib/components/places/SearchBox\";\n\nexport class Map extends React.Component {\n    constructor(props) {\n        super(props);\n        this.myRefs = {};\n        this.state = {\n            places: [],\n            center: {lat: 35.949872, lng: -78.8977132},\n            bounds: null\n        }\n    }\n\n    componentDidMount() {\n        this.postLatLng({lat: () => this.state.center.lat, lng: () => this.state.center.lng})\n    }\n\n    postLatLng({lat, lng}) {\n        API.Locations.create({latitude: lat(), longitude: lng()}, response => {\n            console.log(response)\n            this.props.onPlaceSearched(response.google_place_id)\n        })\n    }\n\n    render() {\n        return (\n            this.props.data &&\n            <GoogleMap\n                defaultZoom={12}\n                center={this.state.center}\n                onIdle={() => {\n                    this.setState({\n                        bounds: this.myRefs.map.getBounds(),\n                        center: this.myRefs.map.getCenter(),\n                    })\n                    this.postLatLng(this.myRefs.map.getCenter())\n                }}\n                ref={ref => this.myRefs.map = ref}\n            >\n                <SearchBox\n                    controlPosition={1}\n                    ref={ref => this.myRefs.searchBox = ref}\n                    bounds={this.state.bounds}\n                    onPlacesChanged={() => {\n                        const places = this.myRefs.searchBox.getPlaces();\n                        if (places.length === 1) {\n                            console.log(places[0])\n                            this.setState({\n                                places: places,\n                                center: places[0].geometry.location\n                            })\n                        }\n                    }}\n                >\n                    <input\n                        type=\"text\"\n                        placeholder=\"Customized your placeholder\"\n                        style={{\n                            boxSizing: `border-box`,\n                            border: `1px solid transparent`,\n                            width: `240px`,\n                            height: `32px`,\n                            padding: `0 12px`,\n                            borderRadius: `3px`,\n                            boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\n                            fontSize: `14px`,\n                            outline: `none`,\n                            textOverflow: `ellipses`,\n                        }}\n                    />\n                </SearchBox>\n                {this.props.data.map(listing => <MapMarker key={listing.id} listing={listing}/>)}\n            </GoogleMap>\n        )\n    }\n}\n\nexport default compose(\n    withProps({\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDbGXFv-QOejj2G8vfGj5cIuYqXjI1AhRU&libraries=places\",\n        loadingElement: <div style={{height: `100%`}}/>,\n        containerElement: <div style={{height: `60vh`}}/>,\n        mapElement: <div style={{height: `100%`}}/>,\n    }),\n    withScriptjs,\n    withGoogleMap\n)((Map))\n"]},"metadata":{},"sourceType":"module"}